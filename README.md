# Discord/tg-bot для небольших комьюнити, которым нужна связка тг и дискорд ботов.
Данный скрипт реализует связку двух ботов, в виде отправки сообщений из одной площадки в другую. 
___
Упор скрипта сделан на discord, реализованы так же музыкальные команды.
Так же есть подвязка рекомендаций из **spotify**. Проект легко маштабируется, можно спокойно вручную добавлять больше команд для обоих ботов.
## Установка/настройка
Перед установкой требуется python 3.11(и больше), любая удобная IDE, а так же уже созданные `ТГ/bot` и `дискорд/bot` в разделах разработчика.
___
Так же рекомендуется создать виртуальное окружение для удобства пользование.

1. Скачиваем репозиторий
2. Устанавливаем `requirements.txt`
3. Проверяем папку `ffmpeg`, там должно быть 3 файла(Если с ними проблемы, то можно скачать с офф. сайта)
   + `ffmpeg.exe`, `ffplay.exe`, `ffprobe.exe`
4. Создаём файл `.env` и заполняем его
   + `TOKEN_DISCORD=` Сюда вводим дискорд токен бота
   + `TOKEN_TELEGRAM=` Токен телеграм бота
   + `TELEGRAM_CHAT_ID=` ID куда бот будет пересылать сообщения из дс
   + `PATH_TO_FFMPEG=` Путь к вашей папке `ffmpeg`
   + `DISCORD_CHANNEL_ID=` ID канала который будет транслироваться в тг
   + При необходимости добавляем **spotify**
      + Заполняем `DISCORD_CHANNEL_ID=`, `SPOTIPY_CLIENT_SECRET=`, `SPOTIPY_REDIRECT_URI=` Всеми данными из **spotify**
      + `DISCORD_CHANNEL_ID_BOT=` ID текстового канала дс, который будет использоваться для музыки
5. Открываем cmd через папку или же окружение и пишим `python discord/main_bot.py`

## Команды для музыкального бота
Можно вызвать `/help` и бот выдаст все команды
| Команда      | Описание   |
|:-----------|:----------:|
| /play  | Играет трек или добавляет его в очередь.   |
| /next  | Пропускает текущий трек.   |
| /queue | Показывает текущую очередь.   |
| /pause  | Приостановка воспроизведение текущей песни.   |
| /resume  | Возобновить воспроизведение приостановленной песни.   |
| /stop  | Останавливает воспроизведение и очищает очередь.   |

**spotify** Команды
| Команда      | Описание   |
|:-----------|:----------:|
|/recommendations | Добавляет в очередь рекомендуемые треки.   |

Другие команды
| Команда      | Описание   |
|:-----------|:----------:|
|/join | Зайти в голосовой чат.   |
|/leave | Выйти из голосового чата.   |
___
Так же есть `Dockerfile` для контейнера, если нужно залить проект на хостинг.